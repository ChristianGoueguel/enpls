<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Brief Introduction to enpls • enpls</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="A Brief Introduction to enpls">
<meta property="og:description" content="enpls">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">enpls</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">6.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/enpls.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nanxstats/enpls/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="enpls_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A Brief Introduction to enpls</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nanxstats/enpls/blob/master/vignettes/enpls.Rmd"><code>vignettes/enpls.Rmd</code></a></small>
      <div class="hidden name"><code>enpls.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The <code>enpls</code> package offers an algorithmic framework for measuring feature importance, detecting outliers, and ensemble modeling based on (sparse) partial least squares regression. The key functions included in the package are listed in the table below.</p>
<table class="table">
<colgroup>
<col width="37%">
<col width="27%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th>Task</th>
<th>Partial Least Squares</th>
<th>Sparse Partial Least Squares</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Model fitting</td>
<td><code><a href="../reference/enpls.fit.html">enpls.fit()</a></code></td>
<td><code><a href="../reference/enspls.fit.html">enspls.fit()</a></code></td>
</tr>
<tr class="even">
<td>Cross validation</td>
<td><code><a href="../reference/cv.enpls.html">cv.enpls()</a></code></td>
<td><code><a href="../reference/cv.enspls.html">cv.enspls()</a></code></td>
</tr>
<tr class="odd">
<td>Detect outliers</td>
<td><code><a href="../reference/enpls.od.html">enpls.od()</a></code></td>
<td><code><a href="../reference/enspls.od.html">enspls.od()</a></code></td>
</tr>
<tr class="even">
<td>Measure feature importance</td>
<td><code><a href="../reference/enpls.fs.html">enpls.fs()</a></code></td>
<td><code><a href="../reference/enspls.fs.html">enspls.fs()</a></code></td>
</tr>
<tr class="odd">
<td>Evaluate applicability domain</td>
<td><code><a href="../reference/enpls.ad.html">enpls.ad()</a></code></td>
<td><code><a href="../reference/enspls.ad.html">enspls.ad()</a></code></td>
</tr>
</tbody>
</table>
<p>Next, we will use the data from <span class="citation">(Wang et al. 2015)</span> to demonstrate the general workflow of <code>enpls</code>. The dataset contains 1,000 compounds, each characterized by 80 molecular descriptors. The response is the octanol/water partition coefficient at pH 7.4 (logD7.4).</p>
<p>Let’s load the data and take a look at it:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://nanx.me/enpls/">"enpls"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org">"ggplot2"</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"logd1k"</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">logd1k</span><span class="op">$</span><span class="va">x</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">logd1k</span><span class="op">$</span><span class="va">y</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></code></pre></div>
<pre><code>##   BalabanJ  BertzCT   Chi0  Chi0n  Chi0v
## 1    1.949  882.760 16.845 13.088 13.088
## 2    1.970  781.936 15.905 13.204 14.021
## 3    2.968  343.203  9.845  7.526  7.526
## 4    2.050 1133.679 19.836 15.406 15.406
## 5    2.719  437.346 12.129  9.487  9.487
## 6    2.031  983.304 19.292 15.289 15.289</code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] -0.96 -0.92 -0.90 -0.83 -0.82 -0.79</code></pre>
</div>
<div id="model-fitting" class="section level1">
<h1 class="hasAnchor">
<a href="#model-fitting" class="anchor"></a>Model Fitting</h1>
<p>Here we fit the ensemble sparse partial least squares to the data, so that the model complexity could usually be further reduced than vanilla partial least squares when we build each model.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span>
<span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/enspls.fit.html">enspls.fit</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, ratio <span class="op">=</span> <span class="fl">0.7</span>, reptimes <span class="op">=</span> <span class="fl">20</span>, maxcomp <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="va">y.pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">fit</span>, newx <span class="op">=</span> <span class="va">x</span><span class="op">)</span>

<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">y</span>, <span class="va">y.pred</span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_.html">aes_string</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"y"</span>, y <span class="op">=</span> <span class="st">"y.pred"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, colour <span class="op">=</span> <span class="st">"darkgrey"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span>, shape <span class="op">=</span> <span class="fl">1</span>, alpha <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_fixed</a></span><span class="op">(</span>ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Observed Response"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Predicted Response"</span><span class="op">)</span></code></pre></div>
<p><img src="enpls_files/figure-html/unnamed-chunk-2-1.png" width="600" height="600"></p>
<p>We used the fitted model to predict on the training data and plotted the predicted values against the true values.</p>
<p>The parameter <code>ratio</code> decides the sampling ratio for each Monte-Carlo run; <code>maxcomp</code> controls the maximum number of components included within each model; <code>reptimes</code> sets the times of Monte-Carlo resampling, we recommend setting it to a large number (500 by default).</p>
<p>One common parameter for all functions in <code>enpls</code> is <code>parallel</code>, it controls the number of CPU cores to use if you want to train the models in parallel.</p>
</div>
<div id="cross-validation" class="section level1">
<h1 class="hasAnchor">
<a href="#cross-validation" class="anchor"></a>Cross Validation</h1>
<p>K-fold cross validation is a traditional way to measure the empirical predictive performance of the model. We can use function <code><a href="../reference/cv.enpls.html">cv.enpls()</a></code> or <code><a href="../reference/cv.enspls.html">cv.enspls()</a></code> to perform <span class="math inline">\(k\)</span>-fold cross validation for the ensemble (sparse) partial least squares model.</p>
<p>Since the parameters (number of components and level of sparsity) are automatically tuned for each model in <code>enpls</code>, the cross validation here is used to see if certain combinations of parameters (specified by <code>ratio</code>, <code>maxcomp</code>, <code>alpha</code>, etc.) can produce ensemble models with better performance.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cv.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cv.enspls.html">cv.enspls</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>,
  nfolds <span class="op">=</span> <span class="fl">5</span>, ratio <span class="op">=</span> <span class="fl">0.7</span>,
  reptimes <span class="op">=</span> <span class="fl">10</span>, maxcomp <span class="op">=</span> <span class="fl">3</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>
<span class="va">cv.fit</span></code></pre></div>
<pre><code>## Cross Validation Result for Ensemble Sparse Partial Least Squares
## ---
## RMSE = 1.1410
## MAE = 0.913153
## Rsquare = 0.587959</code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">cv.fit</span><span class="op">)</span></code></pre></div>
<p><img src="enpls_files/figure-html/unnamed-chunk-3-1.png" width="600" height="600"></p>
<p>The returned object gives three model performance evaluation metrics for the ensemble model: RMSE, MAE, and <span class="math inline">\(R^2\)</span>. Here we also plotted the predicted values for each test fold against the true response.</p>
</div>
<div id="feature-importance" class="section level1">
<h1 class="hasAnchor">
<a href="#feature-importance" class="anchor"></a>Feature Importance</h1>
<p>To measure feature importance, simply use <code><a href="../reference/enpls.fs.html">enpls.fs()</a></code> or <code><a href="../reference/enspls.fs.html">enspls.fs()</a></code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/enspls.fs.html">enspls.fs</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, ratio <span class="op">=</span> <span class="fl">0.7</span>, reptimes <span class="op">=</span> <span class="fl">20</span>, maxcomp <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">fs</span>, nvar <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
<pre><code>## Variable Importance by Ensemble Sparse Partial Least Squares
## ---
##                     Importance
## Chi1n                 29.48614
## NumValenceElectrons   26.78683
## HeavyAtomCount        23.28745
## Chi1                  21.39361
## LabuteASA             21.27471
## SlogP_VSA2            20.93239
## Chi0n                 20.54714
## SlogP_VSA5            19.89059
## MolMR                 19.82387
## SMR_VSA5              19.19199</code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">fs</span>, nvar <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
<p><img src="enpls_files/figure-html/unnamed-chunk-4-1.png" width="600" height="600"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">fs</span>, type <span class="op">=</span> <span class="st">"boxplot"</span>, nvar <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
<p><img src="enpls_files/figure-html/unnamed-chunk-4-2.png" width="600" height="600"></p>
<p>The top 10 most important features are ranked as above. The boxplot gives additional information about the coefficient stability of each feature. We can see the feature TPSA (Topological Polar Surface Area) has different pattern compared to others: it has large effect size, but the effect sizes also have a large variance. This indicates that TPSA is important for predicting logD7.4. However, such importance may vary on different subsets of the samples.</p>
</div>
<div id="outlier-detection" class="section level1">
<h1 class="hasAnchor">
<a href="#outlier-detection" class="anchor"></a>Outlier Detection</h1>
<p>By using information from the prediction error distribution for each sample produced by many models, we can measure if the responses of particular samples are harder to predict than the others. Such measurements can help on identifying outliers in the dataset. Thus, they can be removed to get us a “clean” dataset before the actual modeling.</p>
<p>This could be done with <code><a href="../reference/enpls.od.html">enpls.od()</a></code>, <code><a href="../reference/enspls.od.html">enspls.od()</a></code> easily:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">od</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/enspls.od.html">enspls.od</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, ratio <span class="op">=</span> <span class="fl">0.8</span>, reptimes <span class="op">=</span> <span class="fl">20</span>, maxcomp <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">od</span>, prob <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></code></pre></div>
<p><img src="enpls_files/figure-html/unnamed-chunk-5-1.png" width="600" height="600"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">od</span>, criterion <span class="op">=</span> <span class="st">"sd"</span>, sdtimes <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></code></pre></div>
<p><img src="enpls_files/figure-html/unnamed-chunk-5-2.png" width="600" height="600"></p>
<p>The two plots showed that several samples in our dataset might be outlier candidates, based on two different criterions. The samples in each area of the plots represent different types of outliers.</p>
</div>
<div id="applicability-domain-evaluation" class="section level1">
<h1 class="hasAnchor">
<a href="#applicability-domain-evaluation" class="anchor"></a>Applicability Domain Evaluation</h1>
<p>Model applicability domain measures how well the predictive model (PLS/Sparse PLS model) we built on the training set performs on external test sets. A certain type of perturbation (such as bootstrapping, jackknifing) is applied to the samples or the variables of the training set, and we could get many different predictions for all samples in all test sets (and of course, including the training set) using each sub-model built with each perturbated training set. The general evaluation strategy design and comparisons were analyzed in <span class="citation">Kaneko and Funatsu (2014)</span>.</p>
<p>The functions <code><a href="../reference/enpls.ad.html">enpls.ad()</a></code> and <code><a href="../reference/enspls.ad.html">enspls.ad()</a></code> could help us evaluate the model applicability domain. Here we constructed two “pseudo” test sets from the original <code>logd1k</code> dataset for demonstration:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># remove low variance variables</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">17</span>, <span class="fl">52</span>, <span class="fl">59</span><span class="op">)</span><span class="op">]</span>

<span class="co"># make training set</span>
<span class="va">x.tr</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">500</span>, <span class="op">]</span>
<span class="va">y.tr</span> <span class="op">&lt;-</span> <span class="va">y</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">500</span><span class="op">]</span>

<span class="co"># make two test sets</span>
<span class="va">x.te</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="st">"test.1"</span> <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="fl">501</span><span class="op">:</span><span class="fl">700</span>, <span class="op">]</span>,
  <span class="st">"test.2"</span> <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="fl">701</span><span class="op">:</span><span class="fl">800</span>, <span class="op">]</span>
<span class="op">)</span>
<span class="va">y.te</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="st">"test.1"</span> <span class="op">=</span> <span class="va">y</span><span class="op">[</span><span class="fl">501</span><span class="op">:</span><span class="fl">700</span><span class="op">]</span>,
  <span class="st">"test.2"</span> <span class="op">=</span> <span class="va">y</span><span class="op">[</span><span class="fl">701</span><span class="op">:</span><span class="fl">800</span><span class="op">]</span>
<span class="op">)</span>

<span class="va">ad</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/enspls.ad.html">enspls.ad</a></span><span class="op">(</span><span class="va">x.tr</span>, <span class="va">y.tr</span>, <span class="va">x.te</span>, <span class="va">y.te</span>,
  maxcomp <span class="op">=</span> <span class="fl">3</span>, space <span class="op">=</span> <span class="st">"variable"</span>, method <span class="op">=</span> <span class="st">"mc"</span>,
  ratio <span class="op">=</span> <span class="fl">0.8</span>, reptimes <span class="op">=</span> <span class="fl">50</span>
<span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">ad</span><span class="op">)</span></code></pre></div>
<p><img src="enpls_files/figure-html/unnamed-chunk-6-1.png" width="600" height="600"></p>
<p>Additionally, by using</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">ad</span>, type <span class="op">=</span> <span class="st">"interactive"</span><span class="op">)</span></code></pre></div>
<p>we will get an interactive plot, which could help us better explore the model applicability domain by supporting zooming-in / inspecting which sample each point represents interactively. The interactive plot is based on <a href="https://cran.r-project.org/package=plotly">plotly</a>, and it only requires an HTML viewer to be correctly rendered.</p>
</div>
<div id="conclusion" class="section level1">
<h1 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h1>
<p>Ensemble learning approaches are not only powerful for improving base learner’s predictive performance but also capable of accomplishing model diagnostic tasks, such as measuring the importance of features. It would be interesting to see if such ideas could be applied to more relevant topics and further facilitate the predictive modeling tasks.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-kaneko2014applicability" class="csl-entry">
Kaneko, Hiromasa, and Kimito Funatsu. 2014. <span>“Applicability Domain Based on Ensemble Learning in Classification and Regression Analyses.”</span> <em>Journal of Chemical Information and Modeling</em> 54 (9): 2469–82.
</div>
<div id="ref-wang2015silico" class="csl-entry">
Wang, Jian-Bing, Dong-Sheng Cao, Min-Feng Zhu, Yong-Huan Yun, Nan Xiao, and Yi-Zeng Liang. 2015. <span>“In Silico Evaluation of logD7.4 and Comparison with Other Prediction Methods.”</span> <em>Journal of Chemometrics</em> 29 (7): 389–98.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nan Xiao, Dong-Sheng Cao, Miao-Zhu Li, Qing-Song Xu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
